<div class="container">
  @if (loading) {
    <div>Loading...</div>
  } @else if (error) {
    <div class="error">{{ error }}</div>
  } @else {
    <div class="flex">
      <h2>Company: {{ company?.name }}</h2>
      @if (isOwner) {
        <div>
          <button class="btn btn-outlined" (click)="openEditModal()">Edit</button>
          <app-modal [showModal]="isEditModalOpen" title="Edit Company" (close)="closeEditModal()">
            <app-company-edit
              [company]="company!"
              (update)="handleCompanyUpdate($event)"
              (cancel)="closeEditModal()">
            </app-company-edit>
          </app-modal>
        </div>
      }
    </div>

    <div class="content">
      <p>Owner: {{ company?.owner?.name }}</p>
      <p>Description: {{ company?.description }}</p>
      <p>Visibility: {{ company?.visibility }}</p>
    </div>

    <app-company-quiz-list 
      [companyId]="company?.id!"
      [isOwner]="isOwner">
    </app-company-quiz-list>
  }
</div>